{% extends "layout.html" %}

{% block title %}Kelas - {{ super() }}{% endblock %}

{% block page_title %}Daftar Kelas{% endblock %}
{% block sidebar_nav %}
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('admin.dashboard') }}">
        <i class="bi bi-speedometer2 me-2"></i>
        Dashboard
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('admin.teachers') }}">
        <i class="bi bi-person-badge me-2"></i>
        Guru
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('admin.students') }}">
        <i class="bi bi-people me-2"></i>
        Siswa
    </a>
</li>
<li class="nav-item">
    <a class="nav-link active" href="{{ url_for('admin.classrooms') }}">
        <i class="bi bi-house-door me-2"></i>
        Kelas
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('admin.attendance') }}">
        <i class="bi bi-clipboard-check me-2"></i>
        Absensi
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('admin.events') }}">
        <i class="bi bi-calendar-event me-2"></i>
        Kalender
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('admin.settings') }}">
        <i class="bi bi-gear me-2"></i>
        Pengaturan
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('auth.logout') }}">
        <i class="bi bi-box-arrow-right me-2"></i>
        Logout
    </a>
</li>
{% endblock %}
{% block page_content %}

<a href="{{ url_for('admin.add_classroom') }}" class="btn btn-primary">
    <i class="bi bi-plus-circle me-1"></i> Tambah Kelas
</a>
<div class="card">
    <div class="card-body table-responsive">
        <table class="table table-hover">
            <thead>
                <tr>
                    <th>Nama Kelas</th>
                    <th>Tingkat</th>
                    <th>Wali Kelas</th>
                    <th>Jumlah Siswa</th>
                    <th>Aksi</th>
                </tr>
            </thead>
            <tbody>
                {% for classroom in classrooms %}
                <tr>
                    <td>{{ classroom.name }}</td>
                    <td>{{ classroom.grade_level }}</td>
                    <td>{{ classroom.homeroom_teacher.full_name if classroom.homeroom_teacher else '-' }}</td>
                    <td>{{ classroom.students|length }}</td>
                    <td>
                        <a href="{{ url_for('admin.edit_classroom', classroom_id=classroom.id) }}" 
                           class="btn btn-sm btn-outline-primary">
                            <i class="bi bi-pencil"></i> Edit
                        </a>
                    </td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="5" class="text-center py-4">
                        <i class="bi bi-info-circle text-muted fs-1 d-block mb-2"></i>
                        <p class="text-muted mb-0">Belum ada kelas</p>
                        <a href="{{ url_for('admin.add_classroom') }}" class="btn btn-primary mt-3">
                            <i class="bi bi-plus-circle me-1"></i> Tambah Kelas Pertama
                        </a>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
{% extends "layout.html" %}

{% block title %}Absensi Saya - {{ super() }}{% endblock %}

{% block sidebar_nav %}
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('teacher.dashboard') }}">
        <i class="bi bi-speedometer2 me-2"></i>
        Dashboard
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('teacher.attendance') }}">
        <i class="bi bi-clipboard-check me-2"></i>
        Absensi Siswa
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('teacher.scan') }}">
        <i class="bi bi-qr-code-scan me-2"></i>
        Scan QR
    </a>
</li>
<li class="nav-item">
    <a class="nav-link active" href="{{ url_for('teacher.my_attendance') }}">
        <i class="bi bi-person-check me-2"></i>
        Absensi Saya
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('auth.profile') }}">
        <i class="bi bi-person-circle me-2"></i>
        Profil
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('auth.logout') }}">
        <i class="bi bi-box-arrow-right me-2"></i>
        Logout
    </a>
</li>
{% endblock %}

{% block page_title %}Absensi Saya{% endblock %}

{% block page_content %}
<div class="row">
    <div class="col-md-3 mb-4">
        <div class="card bg-primary text-white">
            <div class="card-body text-center">
                <h5 class="card-title">Total Kehadiran</h5>
                <h2 class="mb-0">{{ attendance_stats.total }}</h2>
            </div>
        </div>
    </div>
        
        <div class="card">
            <div class="card-header">
                <h5 class="card-title mb-0">Informasi Guru</h5>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <strong>Nama:</strong><br>
                    {{ teacher.full_name }}
                </div>
                <div class="mb-3">
                    <strong>NIP:</strong><br>
                    {{ teacher.nip or 'Belum diatur' }}
                </div>
                <div class="mb-3">
                    <strong>Status Wali Kelas:</strong><br>
                    <span class="badge bg-{{ 'success' if teacher.is_homeroom else 'secondary' }}">
                        {{ 'Ya' if teacher.is_homeroom else 'Tidak' }}
                    </span>
                </div>
                {% if teacher.is_homeroom and teacher.homeroom_class %}
                <div class="mb-3">
                    <strong>Kelas Wali:</strong><br>
                    {{ teacher.homeroom_class.name }}
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}
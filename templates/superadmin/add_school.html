{% extends "layout.html" %}
{% from "macros/form_macros.html" import render_field %}

{% block title %}Tambah Sekolah - {{ super() }}{% endblock %}

{% block sidebar_nav %}
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('superadmin.dashboard') }}">
        <i class="bi bi-speedometer2 me-2"></i>
        Dashboard
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('superadmin.schools') }}">
        <i class="bi bi-building me-2"></i>
        Sekolah
    </a>
</li>
<li class="nav-item">
    <a class="nav-link active" href="{{ url_for('superadmin.add_school') }}">
        <i class="bi bi-plus-circle me-2"></i>
        Tambah Sekolah
    </a>
</li>
<li class="nav-item">
    <a class="nav-link" href="{{ url_for('auth.logout') }}">
        <i class="bi bi-box-arrow-right me-2"></i>
        Logout
    </a>
</li>
{% endblock %}

{% block page_title %}Tambah Sekolah Baru{% endblock %}

{% block page_actions %}
<a href="{{ url_for('superadmin.schools') }}" class="btn btn-sm btn-outline-secondary">
    <i class="bi bi-arrow-left me-1"></i> Kembali ke Daftar Sekolah
</a>
{% endblock %}

{% block page_content %}
<div class="row justify-content-center">
    <div class="col-md-10">
        <div class="card">
            <div class="card-header">
                <h5 class="card-title mb-0">
                    <i class="bi bi-building me-2"></i>Form Pendaftaran Sekolah Baru
                </h5>
            </div>
            <div class="card-body">
                <div class="alert alert-info">
                    <i class="bi bi-info-circle me-2"></i>
                    Hanya Superadmin yang dapat menambahkan sekolah baru. Setiap sekolah akan mendapatkan akun admin pertama.
                </div>
                
                <form method="POST" action="{{ url_for('superadmin.add_school') }}">
                    {{ form.hidden_tag() }}
                    {{ admin_form.hidden_tag() }}
                    
                    <h5 class="mb-3 border-bottom pb-2">Informasi Sekolah</h5>
                    
                    <div class="row">
                        <div class="col-md-6">
                            {{ render_field(form.name) }}
                        </div>
                        <div class="col-md-6">
                            {{ render_field(form.code) }}
                            <div class="form-text">Kode unik untuk identifikasi sekolah</div>
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            {{ render_field(form.phone) }}
                        </div>
                        <div class="col-md-6">
                            {{ render_field(form.email) }}
                        </div>
                    </div>
                    
                    {{ render_field(form.address) }}
                    {{ render_field(form.website) }}
                    
                    <h5 class="mb-3 mt-4 border-bottom pb-2">Akun Admin Sekolah</h5>
                    
                    <div class="row">
                        <div class="col-md-6">
                            {{ render_field(admin_form.username) }}
                        </div>
                        <div class="col-md-6">
                            {{ render_field(admin_form.email) }}
                        </div>
                    </div>
                    
                    <div class="row">
                        <div class="col-md-6">
                            {{ render_field(admin_form.password) }}
                        </div>
                        <div class="col-md-6">
                            {{ render_field(admin_form.confirm_password) }}
                        </div>
                    </div>
                    
                    <div class="alert alert-warning mt-4">
                        <i class="bi bi-exclamation-triangle me-2"></i>
                        Pastikan informasi yang dimasukkan sudah benar. Setelah sekolah dibuat, hanya admin sekolah yang dapat mengubah data tersebut.
                    </div>
                    
                    <div class="mt-4">
                        <button type="submit" class="btn btn-primary btn-lg">
                            <i class="bi bi-check-circle me-1"></i> Buat Sekolah & Akun Admin
                        </button>
                        <a href="{{ url_for('superadmin.schools') }}" class="btn btn-secondary ms-2">
                            <i class="bi bi-x-circle me-1"></i> Batal
                        </a>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
{% endblock %}